#include "memstream.hpp"
#include <cmalloc>


MemoryDevice::MemoryDevice() : size(0){
    data=reinterpret_cast<char*>(malloc(size));
}

streamsize MemoryDevice::write(const char *s, streamsize n){
    size_t oldsize=size;
    size+=n;
    data=reinterpret_cast<char*>realloc(size));
    memcpy(s, data+oldsize, n);
}
